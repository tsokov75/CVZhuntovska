<!doctype html>
<html lang="bg">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CVZhuntovska ‚Äì –ö—É–∏–∑</title>
  <style>
    :root { --bg:#0f172a; --text:#e5e7eb; --muted:#9ca3af; --btn:#1f2937; --btnHover:#374151;
            --green:#16a34a; --red:#dc2626; }
    *{box-sizing:border-box} html,body{height:100%}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Arial;
         background:radial-gradient(1200px 600px at 80% -10%,#1e293b 0%,#0f172a 60%);
         color:var(--text);display:grid;place-items:center;padding:16px}
    .app{width:100%;max-width:720px;background:rgba(255,255,255,.02);
         border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:20px}
    .header{display:flex;gap:12px;align-items:center;margin-bottom:16px}
    .badge{background:rgba(37,99,235,.2);border:1px solid rgba(37,99,235,.5);color:#dbeafe;
           padding:6px 10px;border-radius:999px;font-size:14px}
    .progress{height:8px;width:100%;background:#0b1220;border:1px solid rgba(255,255,255,.08);
              border-radius:999px;overflow:hidden;margin:8px 0 4px}
    .progress>div{height:100%;width:0%;background:linear-gradient(90deg,#2563eb,#22c55e);
                  transition:width .3s ease}
    .question{font-weight:700;font-size:clamp(18px,2.2vw,22px);line-height:1.3;margin:10px 0 16px}
    .answers{display:grid;grid-template-columns:1fr;gap:10px}
    @media (min-width:640px){.answers{grid-template-columns:1fr 1fr}}
    .answer{border:1px solid rgba(255,255,255,.08);background:var(--btn);padding:14px;border-radius:12px;
            cursor:pointer;user-select:none;display:flex;align-items:center;justify-content:space-between;gap:10px}
    .answer:hover{background:var(--btnHover)} .answer.disabled{cursor:default;opacity:.75}
    .answer.correct{border-color:rgba(22,163,74,.6);background:rgba(22,163,74,.12)}
    .answer.wrong{border-color:rgba(220,38,38,.6);background:rgba(220,38,38,.12)}
    .meta{display:flex;justify-content:space-between;align-items:center;margin-top:14px;color:var(--muted);font-size:14px}
    .footer{display:flex;gap:10px;justify-content:space-between;margin-top:16px}
    button{border-radius:10px;padding:12px 14px;border:1px solid rgba(255,255,255,.1);background:#0b1220;
           color:var(--text);cursor:pointer;font-weight:600}
    .hidden{display:none !important} .score{margin-top:10px;font-size:18px}
  </style>
</head>
<body>
  <main class="app" role="application" aria-label="–ö—É–∏–∑ ‚Äì –∏–∑–±–µ—Ä–∏ –≤–µ—Ä–Ω–∏—Ç–µ –æ—Ç–≥–æ–≤–æ—Ä–∏">
    <div class="header">
      <div class="badge" id="badge">–í—ä–ø—Ä–æ—Å 1 –æ—Ç 3</div>
      <div aria-live="polite" style="font-size:14px;color:var(--muted)">
        –ò–∑–±–µ—Ä–∏ –≤–µ—Ä–Ω–∏—Ç–µ –æ—Ç–≥–æ–≤–æ—Ä–∏ (–±—Ä–æ–π —Å–ø–æ—Ä–µ–¥ –≤—ä–ø—Ä–æ—Å–∞)
      </div>
    </div>
    <div class="progress" aria-hidden="true"><div id="progressBar"></div></div>
    <div class="question" id="questionText">–ó–∞—Ä–µ–∂–¥–∞–Ω–µ‚Ä¶</div>
    <div class="answers" id="answers" role="group" aria-label="–í—ä–∑–º–æ–∂–Ω–∏ –æ—Ç–≥–æ–≤–æ—Ä–∏"></div>
    <div class="meta">
      <div>–ò–∑–±—Ä–∞–Ω–∏: <span id="pickedCount">0</span> / <span id="needCount">1</span></div>
      <div>–¢–æ—á–∫–∏: <span id="score">0</span></div>
    </div>
    <div class="footer">
      <button id="resetBtn" type="button">–†–µ—Å—Ç–∞—Ä—Ç</button>
      <button id="nextBtn" class="hidden" type="button">–°–ª–µ–¥–≤–∞—â –≤—ä–ø—Ä–æ—Å</button>
    </div>
    <div class="score hidden" id="finalBox"></div>
  </main>

  <script>
    const QUESTIONS = [
      { q: "–° –∫–æ—è –æ—Ç –ø–æ—Å–æ—á–µ–Ω–∏—Ç–µ –¥—ä—Ä–∂–∞–≤–∏ –ë—ä–ª–≥–∞—Ä–∏—è –Ω–µ –≥—Ä–∞–Ω–∏—á–∏?",
        a: ["–ê: –†—É–º—ä–Ω–∏—è","–ë: –ô–æ—Ä–¥–∞–Ω–∏—è","–í: –¢—É—Ä—Ü–∏—è","–ì: –ì—ä—Ä—Ü–∏—è"], correct: [1] },
      { q: "–ö–æ—è –µ –ø–ª–∞–Ω–∏–Ω–∞—Ç–∞, –∫–æ—è—Ç–æ —Ä–∞–∑–¥–µ–ª—è –ë—ä–ª–≥–∞—Ä–∏—è –Ω–∞ –Æ–∂–Ω–∞ –∏ –°–µ–≤–µ—Ä–Ω–∞?",
        a: ["–ê: –°—Ç—Ä–∞–Ω–¥–∂–∞","–ë: –†–∏–ª–∞","–í: –°—Ç–∞—Ä–∞ –ø–ª–∞–Ω–∏–Ω–∞","–ì: –ü–ª–∞–Ω–∞"], correct: [2] },
      { q: "–ö–æ–π –≥—Ä–∞–¥ –µ —Å—Ç–æ–ª–∏—Ü–∞ –Ω–∞ –ë—ä–ª–≥–∞—Ä–∏—è –≤ –¥–Ω–µ—à–Ω–æ –≤—Ä–µ–º–µ?",
        a: ["–ê: –í–µ–ª–∏–∫–æ –¢—ä—Ä–Ω–æ–≤–æ","–ë: –°–æ—Ñ–∏—è","–í: –ü–ª–∏—Å–∫–∞","–ì: –ü—Ä–µ—Å–ª–∞–≤"], correct: [1] }
    ];

    const questionText=document.getElementById('questionText');
    const answersEl=document.getElementById('answers');
    const badge=document.getElementById('badge');
    const progressBar=document.getElementById('progressBar');
    const pickedCountEl=document.getElementById('pickedCount');
    const needCountEl=document.getElementById('needCount');
    const scoreEl=document.getElementById('score');
    const nextBtn=document.getElementById('nextBtn');
    const resetBtn=document.getElementById('resetBtn');
    const finalBox=document.getElementById('finalBox');

    let index=0,score=0,pickedCount=0,locked=false,selectedWrong=false;
    let selected=new Set();

    function updateProgress(){ const step=((index)/QUESTIONS.length)*100;
      progressBar.style.width=step+'%'; badge.textContent=`–í—ä–ø—Ä–æ—Å ${Math.min(index+1,QUESTIONS.length)} –æ—Ç ${QUESTIONS.length}`;
    }
    function renderQuestion(){
      locked=false; selectedWrong=false; pickedCount=0; selected=new Set();
      pickedCountEl.textContent='0'; nextBtn.classList.add('hidden'); finalBox.classList.add('hidden');
      const q=QUESTIONS[index]; questionText.textContent=q.q; needCountEl.textContent=String(q.correct.length);
      answersEl.innerHTML='';
      q.a.forEach((text,i)=>{ const btn=document.createElement('button'); btn.className='answer'; btn.type='button'; btn.dataset.idx=i;
        btn.innerHTML=`<span>${text}</span>`; btn.addEventListener('click',()=>handlePick(btn)); answersEl.appendChild(btn); });
      updateProgress();
    }
    function handlePick(btn){
      if(locked||btn.classList.contains('disabled')) return;
      const q=QUESTIONS[index]; const realIdx=parseInt(btn.dataset.idx,10);
      if(selected.has(realIdx)) return; selected.add(realIdx);
      const isCorrect=q.correct.includes(realIdx);
      pickedCount++; pickedCountEl.textContent=String(pickedCount);
      btn.classList.add('disabled',isCorrect?'correct':'wrong');
      if(!isCorrect) selectedWrong=true;
      if(pickedCount>=q.correct.length){
        document.querySelectorAll('.answer:not(.correct):not(.wrong)').forEach(b=>{
          const idx=parseInt(b.dataset.idx,10);
          if(q.correct.includes(idx)) b.classList.add('correct','disabled'); else b.classList.add('disabled');
        });
        if(!selectedWrong) score++; scoreEl.textContent=String(score); locked=true;
        setTimeout(()=>nextBtn.classList.remove('hidden'),400);
      }
    }
    function nextQuestion(){
      if(index<QUESTIONS.length-1){ index++; renderQuestion(); }
      else{
        progressBar.style.width='100%'; badge.textContent='–ì–æ—Ç–æ–≤–æ!';
        answersEl.innerHTML=''; questionText.textContent='–†–µ–∑—É–ª—Ç–∞—Ç';
        finalBox.classList.remove('hidden');
        finalBox.innerHTML=`–¢–≤–æ–∏—Ç–µ —Ç–æ—á–∫–∏: <strong>${score}</strong> –æ—Ç <strong>${QUESTIONS.length}</strong>.`+(score===QUESTIONS.length?' –ë—Ä–∞–≤–æ! üéâ':'');
        nextBtn.classList.add('hidden');
      }
    }
    nextBtn.addEventListener('click', nextQuestion);
    resetBtn.addEventListener('click', ()=>{ index=0; score=0; scoreEl.textContent='0'; renderQuestion(); });
    renderQuestion();
  </script>
</body>
</html>
